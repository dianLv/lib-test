
## 基本概念
* 版本: 第0版(未整理)
* 分类
	* 教程(新手)
	* 主线(剧情)
	* 支线
	* 生活(采集/制造)
	* 活动
	* 副本(攻略)
	* 特殊
		* 职业
		* 门派
		* 势力/阵营
		* 事件
		* 技能
		* 挑战(特定击杀，特定获取，特定养成...)
		* 跑环(任务链，组合任务)
		* 场景(只在特定场景中的任务)
		* 每日/每周
		* 隐藏任务=>实现、激活...
		* 随机
* 任务方式/目标(取决于游戏玩法系统)
	* 战斗(击杀Monster, Boss 击杀统计...)
	* 采集(特定资源采集，掉落物品获取)、制作、建造、养成...
	* 护送/护卫
	* 交互(与npc交互, 与Evn交互...)
* 获得(激活)方式
	* 通过任务npc对话
	* 特殊事件=>满足任务触发条件
		* 进入任务(地图/区域/副本/频道)
		* 进入任务时段
		* 完成特定击杀
		* 获取特殊物品
	* 使用道具触发任务=>如，任务卷轴(涉及任务触发道具的获取方式与限制)
		* 获取时自动使用来触发
		* 通过使用主动使用道具获取
* 限制
	* 前置任务(如主线、前置支线、攻略)
	* 前置条件(>=等级(上限/下限)、职业、组队?、门派?...)
	* 资源消耗(精力、道具...)
	* 时间(特定日期下的特定时间)=>一般通过限制任务npc出现时间进行约束
	* 区域(特定区域/位置=>野外、主城、副本...)
		* 任务位置可达(地图可进、任务npc、任务目标可达)
	* 次数
		* 领取次数=>限制当前所领取任务数量的上限
		* 完成次数=>限制每日可提交任务完成的数量上限(也可能会分类限制)
	* 重复接取=>限制重复领取次数, 按完成进行限制
		* 不限制=>或，通过接取方式进行限制
		* (终身)限制一次
		* 每日限制一次(副本任务)
		* 每周限制一次
	* 存在互斥任务
	* 未满足任务限制时, 如何处理任务激活
		* 领取但不触发
		* 无法激活，道具类不消耗
* 任务失效方式
	* 主动失效=>放弃任务
		* 是否影响重新领取任务
		* 是否存在限制
			* 无法放弃
			* 特定阶段时无法放弃
	* 被动失效
		* 离开任务地图/场景/频道
			* 离开任务场景时是否失效
		* 离开游戏=>任务数据的存储方法
			* 任务进度被清除
			* 离线期间触发时间结束
		* 任务时间结束(需要区别非任务时间)
			* 任务完成时间内未完成
			* 版本变更
		* 任务系统重置=>后台调整
		* 失效提示/警告
	* 任务时间结束
		* 任务本身的时间结束
		* 限定时间结束=>下一个任务时间可以继续
	* 失效处理=>但出现任务失效
		* 任务道具如何处理=>标记失效、自动删除、变成普通物品
		* 任务刷新怪物=>消失、变成普通怪物
		* 任务道具产出=>不产出、变成普通产出
		* 已失效任务是否自动删除=>提供一键/批量删除
		* 已失效任务是否可以重新领取
	* 版本间任务变化
		* 废弃(支线相关)
			* 脚本删除
			* 标记废弃, 由玩家手动删除
		* 过程发生变化(主线相关)
			* 如何衔接
				* 脚本重置(重置到任务开始)
				* 脚本衔接(衔接到最新流程)
		* 不处理(临时任务)
* 完成任务
	* 自动完成=>满足任务完成条件时自动完成
	* 交互式=>与npc对话，或提供对应任务材料
	* 奖励发放与限制
		* 直接发放
			* 发放数值资源(经验、属性...)
			* 发放增益效果(buff)
			* 发放道具类奖励时，如何处理背包超上限的问题
				* 检查资源发放是否存在损耗
		* 间接发放=>取得
			* 是否可以从发放对象中获取对应内容
		* 是否存在领取限制，存在时如何处理
		* 发放失败是否可以重新获取=>是否能变成未领取状态
		* 奖励发放是否进行防刷处理(发放行为是否记录、数据是否落库)
	* 完成后处理
		* 重置场景
		* 任务过程中提供的任务道具是否处理
			* 不处理=>专用类道具不处理
				* 是否在后续任务中重新激活
			* 回收=>清除手持、背包等任务相关道具
				* 需要确认是否影响其他任务类道具
				* 需要确认是否影响
			* 废弃=>同不处理, 变废弃道具无法使用
* 任务重置
	* 系统重置(通过后台、数据库脚本等)
	* 系统到达重置时间=>每日/每周任务
	* 是否影响重新获得当前任务
* 任务场景
	* 加载依据=>释放根据任务及对应任务阶段
	* 是否与非任务场景同时存在
		* 同时存在=>在地图上加载任务相关内容
			* 完成任务或特定阶段时如何处理当前场景
				* 不处理
				* 释放/剥离任务npc、怪物、任务evn等
					* 或阻止相关内容再生
			* 同地图其他玩家是否可见、交互
			* 同地图组队玩家是否可见、交互(共享)
			* 同任务玩家是否可见、交互(共享/争夺)
		* 是否使用专门场景=>根据任务进入指定任务地图(类似于副本(任务本))
			* 完成任务或任务阶段时如何处理当前场景
				* 处理
					* 驱离=>主动、被动
				* 不处理
			* 同任务(任务进度)玩家是否共享相同场景
	* 非任务时间，如何处理任务场景
		* 场景外
			* 是否影响进入任务场景=>无法进入时，是否提示
		* 场景内
			* 是否可以继续任务
			* 是否将任务场景中的玩家驱离
			* 是否将场景中的任务内容剥离
		* 失效恢复后，是否影响任务内容恢复
* 任务演出
---
## 任务系统组成
* 领取/触发方式
	* 前置条件=>每一步判定 或 任务领取入口处判断(或第一步判定)
* 任务步骤
	* 时间、空间(任务地图，地图/任务区域)
	* 目标(对象)=>完成方式(与指定对象(组)交互)
		* 对话(与npc、evn...)
		* 战斗(击杀、击杀数量)
		* 获取任务道具(采集、战斗、拾取...)
		* 提交物品组(物品类型/物品id、物品数量)
	* 任务奖励(任务产出)，也可以用来发放任务相关道具、任务效果(buff/debuff)
	* 失败处理=>当前步骤失败时处理
		* 失败原因
			* 特定npc死亡
			* 任务超时
			* 放弃任务
				* 主动放弃
				* 脱离任务范围(地图/区域/频道...)
			* 任务失效(版本间, 任务变动)
		* 处理方式
			* 返回特定任务、步骤
			* 离开任务区域
			* 去除任务
				* 是否重新获取任务
				* 提供清除补偿
	* 下一步骤(满足条件)=>任务分支步骤
* 任务奖励(整体)=>独立，或放到任务步骤中
* 下一个任务
---
## 补充
* 与成就系统的差异
%% * 任务激活道具的获取 %%
* 任务排序规则(现实)
	* 基于类型
	* 基于领取时间
	* 基于完成度
* 任务引导方式
	* 强引导
	* 弱引导
	* 不引导
* 任务表生成方式、基本结构与组织形式
* 任务数据存储
	* 离开游戏是否导致任务失效、重置
* 后台对任务的处理
	* 后台处理后，对任务数据的影响
	* 后台处理后，对后续任务的影响
* 任务贡献
	* 组队成员是否共享进度
	* 针对击杀采集等计数类任务，组队成员是否共享进度
		* 队员完成情况下是否可以帮助计数