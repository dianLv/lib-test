### 基础概念
* 版本: v2.4
* 前提: 动作游戏类型丰富，下文主要为--以技能为驱动、构成的体系
* 实体(Entity)
	* 对行为参与者的抽象(可以是人，可以是物，也可以是行为本身)
	* 组成
		* 职业、种族、性别，等级...
		* 基础属性(攻、防、血、蓝，增伤, 减伤, 恢复, 抗性...)
		* 行为状态(战斗状态，连击状态(Combo)，施法状态(Casting)，其他...)
		* 效果属性，标识(Flag)
		* 是否死亡
	* 技能与效果的挂载对象
		* 包括PC、NPC、Monster等
		* 额外(固定)的天赋、各种装备(包括，套装、词条 ...)等
		* 额外(可变)的道具、物品、场景、...
### 技能构成
* 技能(Skill)
	* 概念->由战斗逻辑驱动的动作与演出，及衍生的效果
	* 技能与行动的关系(与战斗机制和行动机制关联)
	* 技能的来源(有重叠)
		* 实体本身携带(内生)->主要来源，固定存在
			* 职业(主)
			* 等级体系
			* 实体任务系统或其他方式奖励(解锁)
		* 实体携带特定装备(核心为武器、受装备是否生效影响)->主要修饰方式
			* 影响其他技能、效果->对指定技能的修饰
			* 产生新技能(激活新的技能系统)
		* 实体持有(携带,额外装备)特定物品->临时技能(覆盖特定技能)
			* 如 街机吞食天地中骑马、捡取武器
		* 效果生成(解锁)的临时技能->与技能栏(slot)的关系
			* 独立于技能栏
			* 与其他技能共享技能栏->涉及切换、共存问题
		* 道具类技能->通过实体消耗特定道具(如 卷轴、药品、食物等)产生的技能
	* 技能的释放方式
		* 主动释放->由控制者主动输入释放指令
		* 被动释放
			* 满足(被动)技能的触发条件时释放
			* 只产生被动效果
		* 自动释放(降低操作难度)
			* 非技能宏，偏向于智能释放
			* 兼顾主动释放，且受释放者本身状态影响，如
				* 连锁触发，释放A技能后，自动使用B技能
				* 条件触发，满足条件时，技能自动使用
	* 技能的定位
		* 主要
			* 伤害/治疗
			* 防御(伤害防御, 异常防御)
				* 主动防御->防御类技能，如 格挡
				* 被动(自动)防御->属性，效果等机制产生
			* 控制(干扰/限制/约束等，一般通过影响实体行为(束缚类)、状态，进而对战斗节奏进行调节)
			* 辅助
			* 召唤+召唤物行为控制
		* 骑乘技能
		* 变身技能(如 表现型，能力型)
		* 位移技能(如 翻滚、闪现、轻功、传送等)
		* 生活、交互技能(由交互物提供，如 环境，制造, 采集)
		* 其他(如 手持道具，特殊演出等)
	* 对敌类型->作用方向
		* 对敌
		* 辅助(对自/对友，buff，治疗等)
	* 技能的伤害类型(关联防御机制)
		* 物理伤害
		* 法术伤害
		* 特殊伤害(如 真实伤害，无视防御，产生固定伤害)
	* 技能的距离类型->按约定攻击距离进行划分(如 近战刀光最大半径)
		* 近战(刀光、绑定武器)
		* 远程
			* 延伸型(光线类)，以释放点为原点或中心点，一直将技能延伸到目标或结算边界
			* 投掷型(投射物、飞行道具)，以目标(人/地面)为原点或中心点，作用到目标
		* 特殊
			* 混合型，同时具备延伸与投掷特性
			* 远程近战类型
	* 技能的目标类型->影响技能吸附方式
		* 有/无目标，目标数量
			* 无目标->弱选择
			* 单一目标->强选择(技能范围内必须存在并锁定目标)
				* 补充，作用对象
					* 目标本身
					* 目标所在地面
			* 范围目标(AOE)，一般使用方向或特定位置
		* 特殊，目标选择的时机
			* 攻击前选择->决定技能是否可以放出
			* 施法准备阶段时选择
			* 释放过程中选择->决定技能能否继续放出
		* 目标的分类
			* 所有
			* 释放者
			* 敌人
			* 队友
			* 召唤物/控制者
			* 其他(如 方向、地面等)
	* 目标的选择(优先级)->影响技能搜索(锁定、追踪)方式
		* 距离(如 由近到远)
		* 强度(如 boss>精英>普通)
		* 血量(如 由低到高或||高到低)
		* 数量
		* 状态标识(如 嘲讽)
		* 随机
	* 技能距离x范围->涉及技能释放与结算
		* 距离相关
			* 攻击距离(目标范围)->技能放出位置到目标的最大距离
				* 一般划分为近，中，远，超远等
			* 伤害范围(结算范围)->技能到结算边界的距离
		* 方向相关
			* 释放者朝向
				* 释放的方向一致，或相反(如 DOTA2's 钢背兽)
			* 受击者朝向->如 背刺技类能(目标朝向与自身朝向一致)
		* 释放高度x目标高度
		* 角度(如 扇形、圆形)
		* 宽度(技能宽度，光线类技能)
		* 初始角度(影响弹道飞行)
		* 补充，涉及形状，形态，形态变化
			* 当技能分多次释放
				* 每次释放时位置，方向(包括释放者朝向)，大小等可能发生变化
				* 每次释放时技能结算区域也可能发生变化
			* 带有追踪(追击)能力的技能
				* 多目标判断
				* 追踪持续时间
				* 最大追踪距离等
			* 非连续范围->如 '+'、'||'、'>>'、'(⊙)'等形式
	* 技能的冷却机制->用于限制技能使用频率
		* 层级关系，全局cd>技能组cd>技能cd
			* 全局cd(公共cd)->时间较短，影响范围广
			* 技能组cd->相关(同类型，同作用)技能分一组的共cd
			* 技能cd->单技能为一组
		* 冷却组的分类->如 按能否修改冷却时间
			* 可以被修正(可变冷却时间)
			* 不可被修正(固定冷却时间)
		* 技能进入cd的时机->施展时，开始释放时、技能结束时
		* 冷却时间是否落库->一般用于长冷却时间的技能
		* 重置机制
			* 切换场景是否重置冷却时间(取决于场景)
			* 解除战斗状态是否重置冷却时间
		* p.s. 技能消耗也可以视作冷却机制的一部分
	* 技能释放条件(决定技能使用、派生、接续等)
		* 取决于技能本身(决定能否被使用)
			* 释放前提->技能已激活，技能允许使用(场景限制)
				* 未激活或无法使用时显示技能锁定状态，或提示
			* 需要(技能)对应的装备，装备状态
			* 目标限制
				* 技能目标类型->单一|范围
				* 目标类型: 敌对、自身、召唤物、队友
				* (目标)存活状态
				* 目标距离->目标是否在技能攻击范围内
					* p.s.  自动跟踪(追击)位置，未满足时，是否(强制)移动到攻击范围再释放
			* 施法费用(HP，MP，...)->资源消耗与扣除
				* 携带道具/材料/货币等亦可以作为费用, 也参与检查，扣除
			* 特殊标识，如
				* 忽视异常状态的施法限制(解控类技能)
				* 特殊技能标识(应用特殊的技能)
		* 取决于释放者的条件(决定技能能否顺利释放)
			* 当前移动状态(如 moving, stand, combat)
			* 自身携带标识、状态->标识、状态满足关系(or, and，not)
			* 前置技能，或前置技能的结果(如  已命中)
			* 连击状态(判定间隔: 多久算连击)
		* 取决于技能目标的条件->目标可以是1个也可以是多个
			* 对与单一目标
				* 目标携带标识、效果状态
			* 对与多个目标
				* 满足一个(必须，一般来说, 最少需要满足1个)
					* 具体结算时基于结果再进行一次过滤
				* 满足群体(可选，或结算时再判断)
		* 满足技能释放条件时，激活技能栏(涉及多层次状态机的切换)
			* 显示技能栏
			* 技能栏切换(如 若干技能共享技能栏时，优先显示哪一个?)
		* 其他
			* 如 合击类技能，需要判定协作玩家的释放状态与位置关系等
	* 技能施展相关
		* 施展时间->从起手到开始攻击的时间(施法前摇)
			* 表现为施法准备，如 吟唱、蓄力、索敌等，以及移动、视角等限制
			* 一般伴随出现倒计时条
		* 攻击时间
			* 攻击前摇
			* 攻击放出
			* 攻击后摇->一次完整的动作挥动动画的播放时间
		* 技能释放次数(1~n)
			* 单次释放(1)
			* 多次释放(n>1)->持续施法、多段式攻击、引导类技能
				* 释放者维持施法状态(直到完成整体释放流程)
				* 释放者解除技能控制，技能体自动完成后续释放
		* 释放时间(技能放出后可能会脱离控制，攻击时间≠释放时间)
			* 控制每次释放的频率
			* 对目标进行结算
			* 每个释放时间产生的技能，其结算及附着效果也不相同
		* 技能弹道->弹道(直线、曲线)+飞行速度->技能体的行动路径与移动速度
			* 技能返回弹道->命中目标后返回释放者位置(参考回旋镖)
		* 技能结算结果
			* 对于释放者->如 攻击、击中、暴击、被防御(格挡/反击/反制)、未命中...
			* 对于技能目标->如 受击、闪避、被暴击、防御(格挡/反击/反制)、...
				* 命中的判定方式: hitbox, (实际)数值变化(如 hp↓)
		* 技能结算控制(修正)->与技能的每次攻击相互对应，如
			* 涉及技能命中，如 必中，首发必中(攻击中的第一下)
			* 涉及防御应对，如 无视(无法)格挡，格挡初次攻击
		* 技能结算判定方式
			* 统一判定->单一目标，整体目标|攻击时已决定结果
			* 逐个判定->多个目标，多段攻击|触发时决定结果
		* 对技能结果的修饰->技能结果改写为指定结果，如
			* 当次攻击视为击中
			* 当次攻击视为暴击
		* 技能取消/中断
			* 主动取消(中断)，如
				* 被其他技能覆盖/打断(未设置排他性机制，使用对应取消技能)
				* 施法阶段下进行限制操作(如 移动、跳跃、翻滚等)
				* 中断操作过程(如 蓄力类技能取消蓄力)
				* 放弃后续输入(如 引导类技能)
				* 连击超时导致的无法释放
			* 被动取消(打断/中断)->无法(不再)满足技能使用/释放条件
				* 释放过程中被死亡(如 被击杀)
				* 施展过程中受击(触发受击硬直)、受击击退(位移)
				* 施展过程中陷入异常行为、异常效果状态(控)
					* 如 沉默、麻痹等打断类技能
				* 施展过程中异常行为、异常状态的解除/消失
					* 如 解控类技能的使用
					* 如 亡语类技能使用时被复活
				* 施展过程中费用不满足(血量、法力、计数标识)消耗条件，如
					* 持续消耗类技能，在释放过程中费用已耗尽
					* 蓄力类技能使用时，蓄力时间不满足最小蓄力时间
					* 释放时，施法费用无法满足
				* 目标丢失->取决于技能的目标类型
					* 目标离开(不在)技能范围<-受攻击距离、方式影响等
					* 目标进入非战斗区域->进入安全区
					* 目标相关的技能释放条件无法满足，如
						* 目标已死亡/目标已复活
						* 目标解除/摆脱异常状态->异常伤害类技能
						* 目标解除/摆脱攻击标识->衔接类技能无法放出
						* 目标解除敌我状态(如 成为队友)
						* 目标无法被选中、攻击->无敌、放逐、霸体等
						* 其他
				* 其他方式
					* 技能被禁用
					* 战斗阶段结束->一般发生在pvp等玩法中
			* 取消/打断的时间(取决于特定阶段)->主要在技能放出前
				* 施法(吟唱/蓄力)过程中<-主要打断方式
				* 释放时间
					* 通常，**技能释放**后 只能通过**格挡/反弹/闪避**进行抵抗，或脱离释放区域(或进入无法非结算区域)
						* 移动到安全区->即使被击杀，可也可安全脱离战斗
						* 通过技能创造非结算区域
					* 在释放间隔对后续释放进行破坏或中断
			* 取消/打断保护->保障技能释放过程的完整性
				* 禁止/限制移动、跳跃等行为->如 施法硬直
				* 禁止/限制其他技能->如 公共cd，技能排斥
				* 释放过程中附加抗性类buff<-如 霸体
				* 使用施展时间或攻击时间短的技能
				* 释放前对目标进行限制<-技能衔接(组合)的策略
		* 对技能释放后的控制，如
			* 脱离释放者控制
				* 脱离后，释放者可以进行间接控制(或提供控制方式)
				* 脱离后，技能独立完成后续释放流程
			* 技能栏切换(整体切换，局部切换)
				* 技能释放后，转入下一个(组)技能-> 如 技能组合(combo)
			* 技能栏保持(固定)
				* 技能期间固定技能栏->如 引导类技能
		* 其他释放方式
			* 陷阱类技能(静态召唤物)
				* 设置陷阱->设置与一般技能的释放方式一致
				* 由对应技能触发、定时器、碰撞、事件等机制激活
					* 如 三国志11，先设置火种，再通过火焰类技能进行触发
				* 作用范围(类型，范围x距离)
				* 伤害判定+效果
	* 技能数值(威力)的影响因素
		* 技能数值
			* 基础系数(技能大类)推导的数值
			* 熟练度(技能养成数值，也会影响技能效果)
				* 绑定技能(随着等级变更技能本身)
				* 绑定释放者成长(随着等级变更技能段位)
		* 释放实体的属性加成(影响技能数值)
			* 基础数值
			* 成长数值
			* 装备数值
		* 战斗因素->涉及技能伤害的产生
			* 技能本身特性(技能阶段, 前置技能影响)
			* 当前战斗类型(pve/pvp)
			* 攻击结果->击中、暴击、防御...
			* 技能释放时自身状态(增伤)
			* 命中目标的基础数值与属性加成
			* 命中目标的当前状态(异常伤害)
			* 命中目标的所处朝向(可细分到身体位置，如 爆头、背刺等)
			* 范围内命中目标的数量(AOE减伤、伤害衰减(辐射、链式、溅射等))
			* 当前位置与技能中心的距离
			* 受时间因素影响->随时间增强或减弱(平台期，爆发期)
			* 受攻防双方其他技能/效果影响->如 标识，计数等
		* 其他
			* 场地/场景等(应用特殊(独立)的数值模板)
	* 技能伤害的产生
		* 命中公式->攻击结果->击中/闪避
			* 技能特性->必中, 必闪
			* 攻防双方相关数值
		* 伤害公式
			* 带入攻防双方相关数值
			* 命中目标的方向、位置等参数
		* 伤害给与方式->命中与伤害是否耦合在一起
			* 在技能命中目标时直接产生
			* 由技能效果(伤害类)间接提供
	* 技能结算的主次->范围类技能(存在优先/主次等因素)
		* 不分主次
		* 主要目标
		* 次要目标->如 溅射类伤害
	* 技能事件机制->技能通过事件机制进行效果传递
		* 事件项(技能释放与结果)
			* 释放开始、释放完成
			* 攻击(攻击时)->击中，暴击，未击中...
			* 受击(受到攻击时)->被命中，闪避，防御，反击...
			* 其他事件...
		* 事件产生的效果的作用对象
			* 给予者，效果的创建者(来源/源头)
			* 持有者，效果挂载的实体
			* 事件源，事件引发者(通常是持有者)
			* 技能的目标->攻击目标(如 未命中时，给予额外伤害)
	* 技能使用期间的释放者状态变化
		* 释放状态的变化->释放开始->casting->释放结束
		* 记入连击信息
		* 记入技能释放结果
		* 释放期间，状态、标识的变化
			* 状态控制，如 隐身状态下攻击，且攻击成立，隐身状态能否维持
			* 释放特定技能时，获得的状态，给技能期间的效果提供标识
	* 特殊类技能机制
		* 连击强化技能
			* 连击时伤害提升
			* 连击时技能变更->通过触发条件进行划分
		* 强控类技能(如 投技)
			1. 判定成功时Link释放者与目标
			2. 同时起效，同时作用，同时解除(包括取消、解控等)
		* 异常应对技能(只在异常状态下使用、或异常状态下激活额外能力)
			1. 陷入1种或多种异常状态、异常行为
			2. 无视异常状态、异常行为的技能限制
			3. 使用后一定程度改变自身状态->如 解控、脱离、复活等
			4. 或 提供异常状态下的应对能力->如 宝可梦的睡眠下使用打鼾
		* 光环类技能->也可以由buff系统(需要拓展作用范围)产生
			1. 释放后脱离控制流
			2. (持续)释放期间产生效果
		* 特殊招式(处决技、终结技、大招等，强表现+强伤害/效果)
* 效果(Effect)
	* 概念
		* 一般是战斗系统中基础的执行单元(将战斗解构为技能(行为)驱动的若干效果(能力)的组合)
		* 区别于特效(Special Effects)，囊括且可看作效果的可视化部分
	* 分类(按能力作用方式区分: 瞬时，持续)
		* 及时(立即)->体现效果的**瞬时性**，一次性能力，如 各类伤害，具体效果等
		* buff/debuff->体现效果的**持续性**，也充当标识
			* 效果也可以通过buff+触发器的方式实现，如 添加时生效
				* p.s. 触发器的方式存在相互拉起的问题
		* 其他->如 特化到战斗系统的buff
	* 优先级(priority/level/weight)->解决效果间冲突，复杂时引入tag表解耦
	* 效果间的关系
		* 效果与同效果的关系
			* 堆叠
			* 排斥->无法获取
			* 更新->如 刷新持续时间
		* 效果与同(类)效果的关系
			* 独占->按获得先后，获取后无法再添加同类效果
			* 覆盖->高优先级覆盖低优先级
			* 排斥->高优先级排斥低优先级
			* 共存->允许同时存在(如 堆增伤buff)
		* 不同来源的(同id，同类型)效果如何处理
			* 相互独立->如 同时被多个来源添加吸血
			* 按同效果或同类效果的规则进行处理
		* 效果与不同效果之间的关系
			* 共存
				* 不排除其他可能(如 相互影响，充当冷却时间)
			* 排斥->如 驱散、抗性等
				* 驱散类->导致其他效果消失
				* 抗性类->导致其他效果无法生效，无法添加
	* 效果的生命周期(对应触发挂点)
		* 效果的产生->来源，目标，能力，层数，持续时间...
		* 效果的持续
		* 效果的更新->如 堆叠变化，持续时间...
		* 效果的结束
	* 效果的产生->产生原因(关系绑定方式)
		* 场景/地图提供(如副本、特殊区域、与场景机制交互等)
		* 由任务系统提供(通过进入任务场景(区域)获得)
		* 由(任务)npc提供(交互)
		* 消耗/使用道具(物品、食物、药品等)时产生
		* 装备、饰品、携带物、词缀等系统提供(持续效果)，如
			* 装备类->挂载在装备者身上的buff
			* 物品类->持有时挂载在持有者身上的buff
		* 技能机制作用
			* 技能释放中
				* **技能施展**环节时获得
					* 使用时/施展时效果->如获得施法保护
				* **技能释放**环节获得<-技能放出阶段
					* 释放技能时(开始攻击时)->如清除施法保护(标识)
					* 技能结算时<-基于结算结果，涉及范围内的敌、我、友各方
						* 确认结算范围
						* 确认结算结果，基于目标当前状态(如存活)
						* 涉及伤害
						* 涉及效果
			* 技能释放后(技能结算时，用来对结果进行奖励与补充)
				* 释放后或根据释放结果获得
					* 无条件，表示获取时机->如 释放后获得xx效果
					* 有条件，根据结算结果->如 暴击时恢复血量...
				* 击杀效果->当前技能造成目标死亡
			* 被动效果
				* 满足(被动)技能条件时触发的效果
			* 引爆(陷阱)类效果
				* 触发时给周围对象添加的效果->相当于**技能释放**
			* 事件机制->当事件发生时，产生事件对应效果
				* 如 当前攻击miss时，给与目标一定伤害
		* 效果产生效果->由一个原效果被事件激发后产生的效果，如
			* 堆叠机制产生
			* 效果消失时，基于原因产生的效果
				* 机制利用，如 装备、道具类效果可以通过消失机制充当冷却时间
			* 其他事件机制...
	* 效果(buff/debuff)的持续
		* 通常，效果产生的能力只在持续时间内生效
		* 持续时间结束后效果结束，能力消失
			* 不合理的失效机制会导致持续时间结束后，错误变为永久效果，如
				* 反复获得并删除效果，导致的效果标记位异常
				* 利用缓存机制将效果失效时间变成无穷大数
		* 永久效果
			* 不配置持续时间的buff/debuff, 获取后只能通过机制(在死亡/离场/结束战斗/下线时)解除，或通过绑定方式(如 卸下装备)进行解除
			* 在效果结束中配置当前buff/debuff，利用生命周期重新获取
		* 数据落库
			* 是否落库
				* 堆叠计数
				* 已使用时间(当前时间-添加or更新时间)
				* 效果来源
			* 上线恢复->功能接续，时间接续，正常结束、再次触发
	* 堆叠->堆叠类效果
		* 最大堆叠(上限)
		* 堆叠数量(层数)
			* 堆叠计数，默认是1~最大堆叠之间
			* 效果受堆叠数量的影响
				* 计数增加，效果越来越强，或最大堆叠时触发新效果
				* 计数减少，效果越来越弱，或消失时触发新效果
				* 不影响，堆叠只用来计数
		* 计数增加->当堆叠计数最大(或对应数量)时，转化(删除并获取)为新效果
		* 计数减少->扣除一定层数或全部扣除，计数为0时或转化为无堆叠效果
			* 效果被驱散时
			* 触发效果事件时
			* 持续时间结束时
		* 堆叠产生的新效果，获取原buff时如何处理
			* 排斥，无法获取
			* 独立，但新效果期间无法再次触发转化
			* 对新效果产生影响
				* 更新持续时间
				* 应发新效果的堆叠计数
	* 效果(buff/debuff)的结束
		* 原因
			* 持续时间结束->被**时间驱散**
			* 被(驱散类)**效果驱散**
			* 被(同类、互斥)效果覆盖->被**规则驱散**
			* 战斗机制回收(维持条件无法满足)->被规则驱散
				* 离开区域、场景、游戏
				* 持有者死亡，施加者死亡(双向绑定类效果)
				* 堆叠层数为0，或堆叠到最大层数(触发转换)
				* 技能事件(如攻击事件、受击事件等)发生
				* 关联效果消失/失效
				* 血量、法力等资源低于/高于预设
					* 维持效果需要消耗资源
				* 生效(激活)次数超过预设(也可能通过堆叠(减少)实现)
				* 离开效果(作用)范围->如 光环效果
			* 技能释放完成(释放保护，释放前添加并在结算阶段后驱散)
			* 受技能事件机制影响->如受击时，命中时等
		* 当驱散带有堆叠计数的效果时
			* 直接驱散
			* 按层数驱散
		* 驱散保护->通常只允许特定方式进行结束，如: 
			* 持续时间内，无法被驱散
			* 专用清除效果，只可以被特定(对应)效果所驱散
				* 如 技能释放保护
		* 效果结束时，如何处理**改写**的技能、属性、状态等
			* 结束时自动回收
			* 结束时通过衍生效果进行处理
				* 如 添加一个相反效果进行抵消
	* 概率机制->效果释放产生、生效受概率影响->如 一定概率触发(获得)xx效果
	* 具体能力(效果类型, 大致分为伤害、属性、状态(异常)、行为(方式)、演出等)
		* 伤害类->技能伤害通过效果机制传导
		* 持续伤害(dot)->如出血，中毒等debuff
			* 间隔时间->act类游戏是基于时间
			* 伤害系数(数值)
		* 恢复类->回血，回蓝，回护盾等
		* 持续恢复(dot)->与伤害dot一致，但功能相反
		* 额外血量->对应负面效果: 最大血量降低
			* 修改最大血量->也可能通过护盾提供
			* 生成第二血条
		* 吸血、吸蓝->涉及目标当前数值(是否允许额外获取数值)
		* 属性修改->增强、减弱
		* 字段修改->改变entity的field
		* 技能冷却时间修改，初始化冷却时间...
		* 改变技能释放阶段的效果->通常是技能相关的装备、饰品
		* 修改技能，如释放时间、激活(子)技能/派生技能
		* 驱散->驱散(类型)效果, 驱散标识，驱散状态...
		* 异常->可能同时影响，如重伤状态，可能会影响速度，也会持续掉血
			* 异常行为->影响行为能力->倒地、浮空
				* 无法释放技能、无法行动、无法移动...
			* 异常状态->沉默、麻痹、眩晕...
		* 免疫异常(抗性)、免疫伤害、解除异常(具备驱散功能)
		* 位移->方向+速度(时间)
		* 击退->方向+速度(时间)+击退类型(如翻滚，僵直)
		* 移动控制(加速，减速，禁足，拖拽)
		* 直接死亡(即死)
		* 仇恨值(影响monster的AI)
		* 复活
		* 变身->形体变化，形态变化，技能变化等
		* 视野->如隐身(物理层面、视觉层面)
		* 特效表现
		* 镜头控制
		* 标识->任务标识，引导标识，行为标识等
		* 非战斗能力->如经验、积分等(属性的修改)
		* 其他机制 ...
* 效果组(Effect-Group)
	* 概念
		* 一种效果的组织方式
	* 作用对象(target, 涉及技能双方, 多方)
		* 释放者->结算时释放者获得的效果
		* 目标(主+次)
		* 主要目标
		* 次要目标
	* 条件项(condition)
		* 生效条件<-根据技能对目标的结算结果，如击中、防御，无条件(增益类)
		* 释放者与作用对象的关系
			* 全部->包含释放者自己(增益类)
			* 敌人(敌对)
			* 队友(友方)
		* 目标状态->当前释放者，释放目标的状态
			* 存活、死亡状态
			* 阻止效果重复添加
				* 如防止堆叠的标识(当堆叠时，原效果无法添加)
	* 具体效果->回归到效果本身
### 释放过程
1. 技能指令输入
	1. 输入识别间隔
	2. 指令映射技能(技能树)
2. 技能释放检查
	1. 检查技能本身
		1. 技能已激活->释放的前提: 技能已解锁+当前场景中允许使用该技能
		2. 技能无CD(公共CD，组CD等)
	2. 检查释放者当前状态
	3. 检查释放目标及其状态
3. 技能释放过程(起手->吟唱->攻击->攻击结束)
	1. 通过释放检查并释放
	2. 播放起手动作->预备动作, 停止其他动作, 转入当前技能释放过程
	3. 播放吟唱动作(进入吟唱/蓄力时间)->涉及目标锁定/再选择
		1. 无需吟唱时跳过该步
		2. 蓄力类一般存在时间区间-->实际蓄力时间可能带入结算，涉及释放费用
			1. 未满足时最小蓄力时间->释放取消
			2. 超过时最大蓄力时间->释放失败、维持蓄力
		3. P.S. 吟唱/蓄力一般会设涉及进度条的变化
	4. 播放释放动作(进入(持续)释放过程)
		1. 播放攻击打出动作(由攻击动画，挥动延迟等组成)
			1. 预显示攻击范围，做一些攻击的微调(如朝向)
				1. 该处也可能先一步产生碰撞检查
				2. 与起手、吟唱/蓄力都是给与目标以反应时间
			2. 同一个技能不同攻击的攻击动画时间不一定相同
			3. 同一个技能不同攻击的目标选择也不一定相同
			4. 有时，吟唱后第一次攻击的打出时间和进结算时间会有所缩短
		2. 完成攻击打出的瞬间，释放(产生/放出)技能(体)
			1. 近战->刀光特效
			2. 远程->发射特效，技能体弹道(飞行道具)特效
			3. 技能特效->播放技能特效、环境特效等表现，打到目标(区域)的表现
				1. 光线/射线
				2. 投射/掷物
				3. 技能跟踪
		3. 产生攻击结果(判定与结算)
			1. 近战类技能一般在攻击放出时便会产生结果
			2. 远程类技能根据技能的弹道速度有所延迟，也可能会在击中后再产生结果(释放过程分若干段，如飞出->击中目标->爆炸，爆炸区产生结算，飞出->等待若干时间->爆炸，也可能组合在一起)
		4. 释放者完成攻击动作->包含反馈及后续处理
			1. 播放攻击完成动作
				1. 根据攻击结果，如近战技能打中目标后会产生顿挫感，挥空后的失衡感，还包括击杀特定目标时的特写镜头
				2. 产生攻击硬直
				3. 影响目标吸附(视角控制，人物朝向控制，指向攻击目标)
				4. 如果没有后续攻击，播放收手动作<=完成释放流程
			2. 位移(存在位移类技能)
				1. 向后移动->后坐力, 或基于攻击结果的后退(反震/反弹)
				2. 向前移动->与技能同时移动，如攻击时向前移动，移动过程中触碰目标后产生伤害结算。或位移后进行攻击。
			3. 如果存在后续攻击(技能不一定一次性放出，也可能分多次打完)
				1. 转向，攻击后转到其他攻击方向(如 一般怪物攻击转到其他角度继续攻击, 如果是玩家使用该类技能会通过拉大视角进行处理，降低玩家视角切换时产生的不适感)
				2. 等待后续输入，重新进入释放过程
				3. 技能脱离释放者，后续动作由技能本身执行(如  技能打出后脱离，命中目标位置后，反复产生爆炸；如 技能体进行后续攻击行为)->若无后续攻击，结束释放流程
		5. 受击者完成受击动作(根据判定与结算，受击表现与应对)
			1. 命中
				1. 击中/暴击->播放受击动作及表现(泛白)，镜头抖动等
				2. 防御->播放防御(格挡、反击、反弹...)动作
			2. 闪避->播放闪避动作
			3. 位移
				1. 命中位移->受击时击退，暴击时击退，技能效果产生击退
					1. 后退
					2. 翻滚
					3. 拖拽->拖拽源
					4. 浮空等
				2. 躲避技能->通过闪避类技能进行位移，主动使用位移类技能，或被动效果产生(如 受击时移动到预设位置)
			4. 受击硬直
				1. 满足条件(如 伤害/暴击伤害超阈值或技能效果触发)
				2. 僵直
			5. 受控，技能及其效果
				1. 播放状态异常动作->沉默、麻痹、眩晕等
				2. 播放行为异常动作->倒地、击飞、浮空等
		6. 技能中断(如果出现技能中断)->技能失败的判定，对应失败的处理
			1. 技能吟唱阶段被打断
			2. 技能施法阶段被打断
		7. 省略涉及的声音、顿帧、震屏等细节
4. 完成释放流程(流程结束不代表技能结束，还涉及到技能后续，衍生效果等情况)
	1. 对技能失败情况的处理(如果存在失败)
		1. 取消连击、中断派生
		2. 产生惩罚机制(如硬直、状态异常等)
		3. 激活技能失败的应对技能(或行为)
	2. 播放结束(收尾)动作(如收刀动作，可能最后一次与攻击完成动作有所重叠)
		1. 完成技能，无后续指令时转入战斗待机状态
		2. 未完成结束动作的情况下，通过取消操作进行
	3. 衔接到其他技能(连击/连招), 可能会省略一些前置动作
	4. 影响战斗状态的维持与解除
* 技能简化描述
	1. 使用技能
	2. 条件检查->失败处理
	3. 释放阶段->失败处理
		1. 起手
		2. 吟唱(施法前摇)
		3. 施法，根据攻击次数进行释放(不涉及中断)
			1. 攻击开始(攻击前摇)
			2. 放出技能(判定与结算)
			3. 攻击结束(攻击后摇)
		4. 收手(施法后摇)
	4. 释放结束
		1. 失败处理
		2. 衔接其他技能
* 逻辑上，3D动作类游戏的技能释放过程可以理解为**对枪械射击过程的仿真**
	1. 掏枪(起手)
	2. 瞄准(施法前摇)
	3. 射击(循环)
		1. 扣动扳机(攻击前摇)
		2. 子弹出膛(Bingo!)
		3. 后坐力(攻击后摇)
	4. 收枪(施法后摇)
### 补充
1. 连续类技能，存在2种或其他解释(可能在描述时有所侧重)
	1. **连续使用**相同技能(即，连续使用同一个技能，一般偏向于连击)
	2. **连续释放**属于技能攻击分多次(段)打出
		1. 光环以技能的形式释放，其持续生效的特征就是连续释放
		2. 光线类技能
2. 技能变体/派生(包装为同一个技能)
	* 多种条件的释放方式(如倒地、浮空等情况)
	* 核心效果相同，但细节上有所差异
3. 装备类技能/效果
	1. 装备时, 附加一个无持续时间(永续)的buff
	2. 其具体效果一般由事件机制触发或派生
	3. 卸载装备时, 自动删除buff, 可以不影响其衍生的其他效果
4. 异常(通过技能或效果产生，并由buff进行传递)
	1. 状态异常(标识or状态属性, 由buff机制间接影响实体)
		1. 毒buff，由中毒的标识、属性效果、持续掉血的dot效果等组成
			1. 也可能会引入减速来区别灼烧等效果
	2. 行为异常(主要配合状态异常使用, 直接影响实体的行为能力)
		1. 无法行动->如眩晕状态, 本质是一个无法行动的异常
		2. 无法移动->如束缚状态, 可能还有无法闪避
		3. 无法防御
		4. 无法闪避等
5. 伤害机制vs防御机制->取决于数值设计(最低目标战斗时间)
	1. 伤害类
		1. 命中，决定伤害是否成立
			1. 距离或地形对命中加强或衰减
		2. 穿透，当伤害无效化后，给与的伤害
		3. 攻击类型
			1. 直接伤害->基础伤害，可以被闪避格挡等机制影响
			2. 间接伤害->附加伤害，由效果带出的伤害，直接作用到目标本体
	2. 防御类
		1. 闪避，决定伤害是否成立
		2. 格挡，伤害成立后，无效化伤害
			1. 亦存在其他无效化伤害的机制
			2. 格挡的伤害可以按比例返回攻击来源
		3. 护甲，降低获得的伤害
			1. 一般由装备(主要来源)等途径提供
		4. 护盾(相当于第二生命或内甲)
			1. (通常)先扣护盾后扣生命
			2. 设计上，存在无视护盾的伤害类型
			3. 护盾恢复(充能)机制
		5. 生命(血量)
			1. 由基础数值与加成组成
			2. 生命恢复(涉及战斗中，非战斗状态2种)
6. 待完善...
---
## 参考
* [Dota2's 数据驱动类技能](https://developer.valvesoftware.com/wiki/Zh/Dota_2_Workshop_Tools/Scripting/Abilities_Data_Driven)