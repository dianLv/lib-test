## 基础概念
* 版本: 第2.2版
* 前提: 动作游戏是个非常丰富的游戏类型，下文主要为"由攻击或战斗方式为主要驱动、构成的动作体系的游戏"
* 实体(Entity)
	* 对行为参与者的抽象(可以是人，可以是物，也可以是行为本身)
	* 基础属性
		* 职业、种族、性别，...
		* 属性能力(攻、防、血、蓝，增伤, 减伤, 恢复, 抗性...)
		* 是否死亡
		* 行为状态：连击状态(Combo)，施法状态(Casting...)，其他状态
		* 效果(Buff，...)
		* 标识(Flag，...)
	* 技能与效果的挂载对象
		* 挂载对象=>pc、npc、monster、scene
		* 额外(固定)=>各种装备(包括,套装、词条...)
		* 额外(可变)=>道具、物品、场景、...
* 技能(Skill)
	* 概念->技能是由战斗逻辑驱动的动作与演出
	* 技能与行动的关系(涉及战斗机制与行动机制的关系，统一与耦合)
	* 技能的来源(有重叠)
		* 实体本身携带(内生)->主要来源，固定存在
			* 职业(主)
			* 等级体系
			* 实体任务系统或其他方式奖励(解锁)
		* 实体携带特定装备(核心为武器、受装备是否生效影响)->主要修饰方式
			* 影响其他技能、效果->对指定技能的修饰
			* 产生新技能(激活新的技能系统)
		* 实体持有(携带,额外装备)特定物品->临时技能(覆盖特定技能)
			* 如，街机吞食天地中骑马、捡取武器
		* 效果生成(解锁)的临时技能->与技能栏(slot)的关系
			* 独立于技能栏
			* 与其他技能共享技能栏->如何切换, 如何共存
		* 道具类技能->通过实体消耗特定道具(如卷轴、药品、食物等)产生的技能
	* 技能的释放方式
		* 主动式
			* 由玩家主动输入释放指令
			* 由玩家主动介入产生的(如，引爆类技能)
		* 自动释放
			* 非技能宏，偏向于智能释放，用于降低操作难度
			* 兼顾主动释放，可以影响正常的技能释放过程
			* 在满足技能释放条件时，实体对象自动释放的技能(技能释放过程中衍生(衔接)的攻击，或由系统自动释放的技能)
				* 释放A技能时, B技能自动释放
				* 释放过A技能后, B技能在满足时自主放出技能(受A技能效果驱动)
		* 被动式(满足2个条件)=>被动技能(无法主动放出)
			1. 需要满足(被动)技能的触发点(触发条件/方式)
				* 如攻击、受击、闪避、状态变化、效果、定时器、死亡等
			2. 主要用于产生(挂载)被动效果
	* 技能的用途分类
		* 主要
			* 伤害
			* 防御(伤害防御, 异常防御)
				* 主动防御->防御类技能，如格挡
				* 被动(自动)防御->属性，效果等机制产生
			* 异常控制(起干扰/限制/约束作用，一般通过影响实体行为(束缚类)、状态，进而对战斗进行调节)
			* 辅助(相对于异常控制)
			* 召唤+召唤物行为控制
		* 骑乘类技能
		* 变身类技能(扩展或覆盖原始技能树，进而改变战斗方式)
		* 移动(位移)类技能(如闪现、轻功、传送等)
		* 交互类技能(由交互物提供，静态(环境)、动态(手持))
		* 生活类技能(如制造, 采集等)
	* 技能类型->技能的伤害类型
		* 物理类型(近战、远程(如枪、弓等))
		* 法术类型
	* 对敌类型->基于是否造成伤害?
		* 对敌
		* 辅助
	* 技能的伤害类型->仅对血量或额外血量，伤害类型对应防御类型
		* 物理伤害
		* 法术伤害
		* 特殊伤害->如，真实伤害(无视防御，产生固定数值的伤害)
	* 技能的距离类型=>按一个约定的攻击距离进行划分(如近战刀光最大半径)
		* 近战
		* 远程
			* 延伸型(发散式，如, 光线，波动)，以释放点为原点或中心点，一直将技能延伸到目标或技能边界
			* 投掷型(投射物、飞行道具)，以目标(人/地面)为原点或中心点，只作用到目标或在目标处转成延伸型~~，甚至转成物理近战~~
		* 特殊
			* 混合型，同时具备延伸与投掷特性
			* 远程近战类型
	* 技能的目标类型->影响技能吸附方式
		* 有无目标，目标数量
			* 无目标->弱目标
			* 单一目标->强目标(技能范围内必须存在并锁定目标)
			* 范围目标(AOE)
				* 无目标
				* 有目标(至少选择一个目标，或一定数量的目标)
		* 特殊，目标选择的时机
			* 攻击前选择
			* 攻击初始阶段是选择(攻击前无目标，攻击时选择)
	* 目标的分类
		* 无目标
		* 释放者
		* 召唤物(动态, 静态(陷阱))
		* 队友->其他玩家, NPC
		* 敌人
		* 地面(目标所在地面，指定位置的地面)
			* 也可能是墙体
	* 目标的选择(优先度)->影响技能吸附方式，视角
		* 距离(由近到远)
		* 强度(体积，数值，boss/精英怪/小鬼等，敌我等)
		* 数量
	* 技能的方向
			* 指向性技能
				* 自由选择
				* 锁定的方向
				* 镜头中心点
				* 默认前方(人物朝向)
			* 非指向性技能
				* 无方向->作用自身，以自身为中心按规则向周边扩散
	* 技能距离x范围，形状，形态，形态变化
		* 2种距离(近，中，远，超远)
			* 释放距离->技能发射位置到目标的最大距离(作为条件)
			* 结算距离(伤害范围)->技能起始位置到结算边界的距离(作为结算范围)
		* 释放者朝向->技能的施展与释放的方向
		* 受击者朝向->影响命中与伤害结算
		* 常见形态(点、线、面、体(正方体、锥体、圆柱体、球体))，如
			* 射线=>起点(起始位置)+宽度+距离\[+高度\]
			* 扇形=>中心点(起始位置)+半径(距离)+角度(0~360)\[+高度\]
			* 锥体=>中心点(起始位置)	+半径+高度(距离)
	* p.s. 技能攻击范围的补充
		* 技能可以一次释放，也可以分多此(连续)释放
			* 每次放出，位置，半径，方向(包括释放者朝向)等都可能发生变化
				* 如按环形向外辐射，判定区域会随之扩散"(<-⊙->)"
				* 如按环形向外辐射，然后再向内收缩")->)·(<-("
		* 技能(动态)生成技能体放出位置->施法区域内随机位置生成技能体起始位置
		* 非连续范围
			* 如十字型，花瓣型、电流型，波动型等
		* 技能表现范围与实际结算范围->可能有区别，表现上有所区分
		* 带有追踪(追击)能力的技能->技能追踪时产生的人物位移
			* 追踪持续时间
			* 最大追踪距离等
		* 随机生成伤害区域
	* 技能的冷却机制->通过时间限制技能使用频率
		* 层级关系: 全局cd>技能组cd>技能cd
			* 全局cd(公共cd)->时间较短，涉及面广
			* 技能组cd->相关(同类)技能分一组的共cd
			* 技能cd->以单个技能分组(按技能cd)
		* 冷却组的分类->如，是否可以被修改冷却时间
			* 可以被修正(可变冷却时间)
			* 不可被修正(固定冷却时间)
		* 冷却时间是否落库->一般用于长冷却时间的技能
		* 重置机制
			* 切换场景是否重置冷却时间
			* 解除战斗状态是否重置冷却时间
		* p.s. 特殊的(独立)技力值也可以视作冷却时间的一部分
	* 技能释放条件->如 若干技能共享一个技能栏，通过条件显示可释放的一个
		* 取决于技能本身
			* 释放前: 技能已激活，技能允许使用(场景限制)
				* 未激活或无法使用时显示技能锁定状态，或提示
			* 需要对应装备(如武器)，装备状态完好
			* 目标限制
				* 技能目标类型->单一|范围
				* 目标类型: 敌对、自身、召唤物、队友
				* (目标)存活状态
				* 目标距离->目标是否在技能攻击范围内
					* p.s.  自动跟踪(追击)位置，未满足时，(强制)移动到攻击范围再释放
			* 施法费用(HP，MP，...)
				* 实体携带道具/材料/货币等亦可以作为费用, 也参与检查，扣除
			* 特殊标识
				* 如，忽视异常状态的施法限制(解控类技能)
				* 如，特殊技能标识(应用特殊的技能)
		* 取决于释放者的条件->释放者只有一个<=技能条件大于释放者条件
			* 当前移动状态->moving, stand, combat
			* 自身携带标识、状态->标识、状态满足关系(or, and，not)
			* 前置技能，前置技能的结果(如, 已命中)
			* 连击状态
		* 取决于技能目标的条件->目标可以是1个也可以是多个
			* 对与单一目标
				* 目标携带标识、效果状态
			* 对与多个目标
				* 满足一个(必须，一般来说, 最少需要满足1个)
					* 具体结算时基于结果再进行一次过滤
				* 满足群体(可选，逻辑上比较复杂)
		* 满足技能释放条件时，激活技能栏(涉及多层状态机的切换)
			* 显示技能栏
			* 技能栏亮起
		* 其他
			* 连携(合击)类技能(与其他玩家协作)，需要判定双方的释放状态、位置关系等
	* 技能施展相关
		* 施展时间->从起手到放出攻击的时间，播放攻击准备动作
			* 一般表现为施法准备，如咒语吟唱、蓄力、瞄准索敌等
				* 是否允许移动
				* 是否限制视角(固定到目标)
			* 一般还会伴随出现技能倒计时条
		* 攻击时间->放出攻击动作需要的时间(攻击前摇)，播放攻击动作
			* 完成攻击动作后，产生技能体(如刀光，放出激光、波动等技能表现)
			* 技能体触碰目标时产生结算
		* 伤害结算时间(周期)
			* 一般来说，一次释放区间内，对每个目标都只进行1次结算
			* 伤害结算的持续时间->技能留存时间，如技能留存在场景中的时间，这个期间，可以对目标产生伤害
				* 也可能产生多次结算(如结算对象在一个结算周期内多次进入结算区域)
		* 技能弹道->弹道轨迹+飞行速度->技能体的行动路径与移动速度
			* 技能返回弹道->命中目标后返回释放者位置(参考回旋镖)
		* 技能结算结果
			* 对与释放者->攻击，击中、暴击、被防御(格挡/反击/反制)、未命中...
			* 对与技能目标->受到攻击，被击中、被暴击、防御(格挡/反击/反制)、闪避...
				* 具体判定方式: hitbox, 数值变化(如hp↓)
		* 技能结算控制=>与技能的每次攻击相互对应
			* 必中，首发必中(攻击中的第一下)=>影响技能命中
			* 无视格挡(无法)，格挡初次伤害=>影响对方防御应对
		* 技能结算产生方式
			* 独立结算(每一个目标)
			* 整体结算(整体目标)
		* 对技能结果的修饰->忽视原本的技能结果，指定(默认)结果，如:
			* 当次攻击视为击中
			* 当次攻击视为闪避
		* 技能释放次数(1~n)
			* 单次释放(1)
			* 多次释放(n>1)->涉及对技能释放流的控制
				* 释放者维持施法状态
				* 释放后释放者脱离施法状态，可释放其他技能, 但技能本身继续执行
		* 技能取消/中断->一般来说，技能放出后是无法打断释放流程
			* 主动取消(中断)
				* 被其他技能覆盖(技能未设置排他性)
				* 施法阶段下进行限制行动(如移动，跳跃等)，可以中断技能(如蓄力类技能)
			* 被动取消(打断)->无法(不再)满足技能使用条件
				* 释放过程中被击杀
				* 施展过程中受击(触发受击硬直)、受击击退(位移)
				* 施展过程中陷入异常行为、异常效果状态(控)
					* 如，沉默、麻痹等打断类技能
				* 施展过程中异常行为、异常状态的解除/消失
					* 如，解控类技能
				* 丢失目标->取决于技能的目标类型+判定方式
					* 目标离开技能范围<-受攻击距离影响
					* 目标离开允许攻击区域->进入安全区(如，非战斗区域)
					* 目标无法成为目标->技能条件
						* 目标已死亡/目标已复活
						* 目标解除/摆脱异常状态->异常伤害类技能
						* 目标解除/摆脱攻击标记->衔接类技能无法放出
						* 目标解除敌我状态(如, 成为队友)
			* 取消/打断的时间(取决于特定阶段阶段)->主要在技能放出前
				* 施法(吟唱)过程中<-主要打断方式
				* 释放持续期间(连续攻击类)
					* 一般来说，**技能放出**后 只能通过**格挡/反弹/闪避**进行抵抗，或脱离结算区域(或进入无法非结算区域)
						* 移动到安全区->即使被击杀，可也可安全脱离战斗
						* 通过技能创造非结算区域
					* 在释放间隔中对后续释放进行破坏或中断
			* 取消/打断保护->防止技能释放中断
				* 禁止/限制移动、跳跃等行为->如，施法硬直、攻击硬直等
				* 禁止/限制其他技能->如，公共cd，技能排斥
				* 释放过程中加入抗性类buff<-如，霸体
				* 使用施法时间、攻击时间短暂的技能
				* 释放前对目标进行限制<-技能衔接(组合)的策略
			* 其他情况(施法前)
				* 使用费用不足->破坏技能释放意图
				* 通过效果禁用某些技能
		* 对技能释放过程的控制(技能挂载到释放者对象，或技能平行与释放者)
			* 释放时，技能脱离(独立)释放者
				* 脱离后，释放者可以进行间接控制(其他技能)
				* 脱离后，技能独立完成后续释放流程
			* 释放时，技能绑定释放者
				* 释放者位移时，技能也会同步位移(如，激光类技能)
				* 绑定释放者，找到目标后, 脱离释放者(可以通过自动技能实现)
			* 释放后，技能栏切换(整体切换，局部切换)
				* 技能释放后，转入下一个(组)技能-> 如，技能组合(combo)
			* 释放后，技能栏保持
				* 技能期间固定技能栏->如，继续释放类技能(表现持续时间)
		* 其他释放方式
			* 陷阱类技能(类似于召唤物)
				* 设置陷阱->设置与一般技能的释放方式一致
				* 由对应技能触发、定时器触发、碰撞触发、受击、死亡等方式激活
					* 如三国志11，先设置火种，然后通过火焰类技能进行引爆
				* 作用范围(类型，读取对应范围x距离中的参数)
				* 产生效果
	* 技能的数值(威力)与影响因素
		* 技能数值
			* 基础系数(技能大类)推导的数值
			* 熟练度(技能养成数值)
				* 绑定技能(随着等级变更技能本身)
				* 绑定释放者成长(随着等级变更技能段位)
		* 释放实体的属性加成(影响技能数值)
			* 基础数值
			* 成长数值
			* 装备数值
		* 战斗因素->涉及技能伤害的产生
			* 技能本身特性(技能阶段, 前置技能影响)
			* 当前战斗类型(pve/pvp)
			* 攻击结果->击中、暴击、防御...
			* 技能释放时自身状态(增伤)
			* 命中目标的基础数值与属性加成
			* 命中目标的当前状态(异常伤害)
			* 命中目标的所处朝向(可细分到身体位置，如爆头、背刺的等)
			* 范围内命中目标的数量(AOE减伤、伤害衰减(辐射、链式、溅射等))
			* 当前位置与技能中心的距离
			* 受时间因素影响->随时间增强或减弱(平台期，爆发期)
			* 受攻防双方其他技能/效果影响->如标记，计数等
		* 其他
			* 场地/场景等(应用特殊(独立)的数值模板)
	* 技能伤害的产生
		* 命中公式->攻击结果->击中/闪避
			* 技能特性->必中, 必闪
			* 攻防双方相关数值
		* 伤害公式
			* 带入攻防双方相关数值
			* 命中目标的方向、位置等参数
		* 伤害给与方式=>命中与伤害是否耦合在一起
			* 在技能命中目标时直接产生
			* 由技能效果(伤害类)间接提供
	* 技能结算的主次->范围类技能(存在优先/主次等因素)
		* 不分主次
		* 主要目标
		* 次要目标->如溅射类伤害
	* 事件机制->依据技能释放前后及结果
		* 事件项(从技能放出到触碰目标，进入技能结算)
			* 放出技能(开始释放时, 释放完成时)
				* 通常来说，起手到放出技能前(吟唱环节)，存在技能中断
			* 攻击(攻击时): 击中，暴击, 未击中...
			* 受击(受到攻击时): 被命中，闪避，防御，反击...
		* 由事件驱动的效果，作用对象
			* 效果的所有者
			* 效果的给予者(创建者)
			* 事件的触发者(如何攻击者)
			* 技能的目标(给技能结算附加内容)
	* 技能使用期间的释放者状态变化
		* 释放状态的变化->释放中(casting)
		* 记入连击信息
		* 记入技能释放结果
		* 释放期间，自身效果状态的变化
			* 如隐身状态下攻击，状态是否维持
			* 释放特定技能时，获得的状态，给技能期间的效果提供标识
	* 特殊类技能机制
		* 连击强化技能
			* 连击时伤害提升
			* 连击时技能变更->通过触发条件进行划分
		* 束缚类
			1. 属于一种硬控类的异常效果
			2. 同时影响释放者与被释放者的行为
			3. 同时作用，同时解除(包括取消、解控等)
		* 异常应对技能
			1. 陷入1种或多种异常状态、异常行为
			2. 无视当前异常状态、异常行为
			3. 使用后一定程度改变自身状态->如，解控、逃脱、复活等
			4. 或提供异常状态下的应对能力->如宝可梦中卡比兽的打鼾
		* 特殊招式(处决技、终结技、大招等，强表现+强伤害/效果)
* 效果(Effect)
	* 概念
		* 一般是战斗系统中最小的执行单元(将战斗解构为技能(行为)驱动的若干效果(能力)的组合)
		* 区别于特效(Special Effects)，囊括且可看作效果的可视化部分
	* 分类(按能力作用方式区分: 瞬时，持续)
		* 立即(及时)生效->体现能力的**瞬时性**，一次性的能力，如各类伤害，即死等
		* buff/debuff->体现能力的**持续性**，也充当标识
			* 根据战斗系统的设计，可以将buff从效果中独立出来
			* 也可以将效果做成一次性buff
	* 优先级(level)->解决效果间冲突，复杂时需要引入tag表进行解耦
		* 效果与同(系列)效果的关系(主要矛盾)
			* 覆盖/排斥->高优先级覆盖低优先级，高优先级排斥低优先级
			* 共存->同时存在(如堆增伤buff)
		* 效果与不同效果的关系->如驱散
	* 效果的生命周期
		* 效果的产生=>来源，目标，能力、层数、生效时间...
		* 效果的持续
		* 效果的更新->如堆叠变化，持续时间...
		* 效果的结束
	* 效果的产生->产生原因(关系绑定方式)
		* 场景/地图提供(如副本、特殊区域、与场景机制交互等)
		* 由任务系统提供(通过进入任务场景(区域)获得)
		* 由(任务)npc提供(交互)
		* 消耗/使用道具(物品、食物、药品等)时产生
		* 装备、饰品、携带物等系统提供(持续效果)
			* 装备类->挂载在装备者身上的buff
			* 物品类->持有时挂载在持有者身上的buff
		* 战斗过程中产生
			* 技能释放中
				* **技能施展**环节时获得
					* 使用时/施展时效果->如施法保护
				* **技能释放**环节获得<-技能放出阶段
					* 释放技能时(开始攻击时)->一般用来清除施法保护(标识)
					* 技能结算时<-基于结算结果，涉及范围内的敌、我、友各方
						* 确认结算范围
						* 确认结算结果，基于目标当前状态(如存活)
						* 涉及伤害
						* 涉及效果
			* 技能释放后(技能结算时，用来对结果进行奖励与补充)
				* 释放后或根据释放结果获得
					* 无条件，表示获取时机->如，释放后获得xx效果
					* 有条件，根据结算结果->如，暴击时恢复血量...
				* 击杀效果->当前技能造成目标死亡
			* 被动效果
				* 满足(被动)技能条件时触发的效果
			* 引爆(陷阱)类效果
				* 触发时给周围对象添加的效果->相当于一次**技能释放**
		* 通过效果产生(赋予)新的效果->由一个旧的效果所引发的新的效果
			* 堆叠机制产生->堆叠到一定程度后，产生一个新的效果
				* 涉及之前的堆叠效果如何处理的问题->保留 or 删除
			* 效果结束时、被驱散时，产生的效果
				* 持续时间结束，出现新的效果->如，之前效果充当冷却时间
				* 效果被驱散->如，当效果消失时，获得xxx效果
			* 事件效果->当事件发生时，给与事件当事人员赋予对应效果
	* 效果的持续->持续时间(buff/debuff)
		* 效果的能力只在持续时间内生效
		* 持续时间结束后效果结束，能力消失
			* 不合理的失效机制会导致持续时间结束后，错误变为永久效果
		* 永久效果
			* 不配置持续时间的buff/debuff, 获取后只能通过机制(在死亡/离场/结束战斗/下线时)解除，或通过绑定方式(如卸下装备)进行解除
		* 持续时间内，获取相同buff时如何处理
			* 可以获取
				* 更新持续时间
				* 更新堆叠计数
			* 无法获得
				* 获取前(添加时)过滤->如使用buff充当其他buff的冷却时间
		* 数据落库
			* 是否落库
				* 堆叠计数
				* 已使用时间
			* 上线恢复->能力恢复(接续)，再触发状况
	* 堆叠=>堆叠类效果
		* 最大堆叠数量
		* 堆叠数量
			* 堆叠计数，默认是1~最大堆叠之间
			* 堆叠数量对效果的影响
				* 计数增加，效果越来越强，最大堆叠时触发新效果
				* 计数减少，效果越来越弱，驱散时触发新效果
		* 计数增加->当堆叠计数最大(或对应数量)时，转化(删除并获取)为其他效果
		* 计数减少->扣除一定层数或全部扣除，计数为0时或转化为无堆叠效果
			* 效果被驱散时
			* 触发效果事件时
			* 持续时间结束时
		* 堆叠情况下，获取相同buff时如何处理
			* 更新持续时间
			* 更新堆叠计数
			* 转化为新效果
				* 再获取原buff时如何处理
					* 无法获取(互斥)
					* 可以获取，再次触发堆叠转化->用于对新效果的再堆叠
	* 效果的结束
		* 原因
			* 持续时间结束
			* 由效果机制解除
				* 离开场景、离开游戏
				* 持有者死亡，施加者死亡
				* 堆叠层数为0，或堆叠到最大层数(触发转换)
				* 触发效果后->事件机制(如被攻击相关、受击相关)
				* 被其他效果覆盖
			* 被驱散/解除
				* 指定(id,名称)的效果
				* 指定特定类型的效果
		* 当驱散带有堆叠层数的效果时
			* 直接驱散
			* 驱散层数
		* 失效处理
			* 隐藏效果图标或特效的显示
			* 移除效果
	* 概率机制->概率生效类效果=>如，一定概率内触发xx效果
	* 具体能力(效果类型, 大致分为伤害, 属性, 状态(异常), 行为(方式), 演出等)
		* 伤害类->技能伤害通过效果机制传导
		* 持续伤害(dot)->如，出血，中毒等效果
			* 持续时间
			* 间隔时间->act类游戏是基于时间
			* 伤害系数(数值)
		* 恢复类->回血，回蓝，回护盾等
		* 持续恢复(dot)->与伤害dot一致，但类型不同
			* 恢复间隔
		* 额外血量->负面效果: 最大血量降低
			* 修改最大血量->也可能通过护盾提供
			* 生成第二血条
		* 吸血、吸蓝->涉及目标当前数值(是否允许额外获得数)
		* 属性修改->增强、减弱
		* 字段修改->改变entity的field
		* 技能冷却时间修改，初始化冷却时间...
		* 影响技能，如影响释放、激活(子)技能、临时技能、技能派生
		* 改变技能释放阶段的效果->通常是技能相关的装备、饰品
		* 驱散->驱散(类型)效果, 驱散属性，驱散状态...
		* 异常->相互配合使用，如沉默时也无法释放技能
			* 异常行为->影响行为能力->倒地、浮空
				* 无法释放技能、无法行动、无法移动...
			* 异常状态->沉默、麻痹、眩晕...
		* 免疫异常(抗性)、免疫伤害、解控
		* 位移->方向+速度(时间)
		* 击退->方向+速度(时间)+击退类型(如翻滚，僵直)
		* 移动速度
		* (影响)施法速度
		* 拖拽->生成引力点
		* 直接死亡(即死)
		* 仇恨值(影响monster的AI)
		* 复活
		* 变身
		* 特效表现
		* 非战斗能力->如经验获取等
		* 其他机制 ...
* 效果组(Effect-Group)
	* 概念
		* 一种效果的组织方式
	* 作用对象(target, 涉及技能双方, 多方)
		* 释放者->结算时释放者获得的效果
		* 目标(主+次)
		* 主要目标
		* 次要目标
	* 条件项(condition)
		* 生效条件<-根据技能对目标的结算结果，如击中、防御，无条件(增益类)
		* 释放者与作用对象的关系
			* 全部->包含释放者自己(增益类)
			* 敌人(敌对)
			* 队友(友方)
		* 目标状态->当前释放者，释放目标的状态
			* 存活、死亡状态
			* 阻止效果重复添加
				* 如防止堆叠的标识(当堆叠时，原效果无法添加)
	* 具体效果->回归到效果本身
---
## 技能释放的一般表述
0. 技能指令输入(技能树)
	1. 输入识别间隔
	2. 指令映射技能
1. 技能本身允许释放
	1. 检查技能本身
		1. 技能已激活->释放的前提：技能已解锁+当前场景中允许使用该技能
		2. 技能无CD(公共组，技能组)
	2. 检查释放者当前状况
	3. 检查释放目标当前状况
2. 进入技能释放过程(起手->吟唱->攻击->攻击结束)
	1. 通过释放检查并释放
	2. 播放起手动作->预备动作, 停止其他动作, 转入当前技能释放过程
	3. 播放吟唱动作(进入吟唱/蓄力时间)->涉及目标锁定
		1. 无需吟唱时跳过该步
		2. 蓄力类一般存在时间区间-->实际蓄力时间可能带入结算
			1. 未满足时(<minStorageTime)->取消释放
			2. 超过时(>maxStorageTime)->释放失败
	4. 播放释放动作(进入(持续)释放过程)
		1. 播放攻击打出动作(由攻击动画，挥动延迟等组成)
			1. 预显示攻击范围，做一些攻击的微调(如朝向)
				1. 该处也可能先一步产生碰撞检查
				2. 与起手、吟唱/蓄力都是给与目标以反应时间
			2. 同一个技能不同攻击的攻击动画时间不一定相同
			3. 同一个技能不同攻击的目标选择也不一定相同
			4. 有时，吟唱后第一次攻击的打出时间和进结算时间会有所缩短
		2. 完成攻击打出的瞬间，释放(产生/放出)技能(体)
			1. 近战->刀光特效
			2. 远程->发射特效，技能体弹道(飞行道具)特效
			3. 技能特效->播放技能特效、环境特效等表现，打到目标(区域)的表现
				1. 光线/射线
				2. 投射物+拖尾
				3. 技能跟踪
		3. 产生攻击结果(判定与结算)
			1. 近战类技能该攻击放出时便会产生结果
			2. 远程类技能根据技能的弹道速度有所延迟，也可能会在击中后再产生结果(释放过程分若干段，如飞出->击中目标->爆炸，爆炸区产生结算，飞出->等待若干时间->爆炸，也可能组合在一起)
		4. 释放者完成攻击动作(攻击反馈及后续)
			1. 播放攻击完成动作
				1. 根据攻击结果，如近战技能打中目标后会产生顿挫感，挥空后的失衡感，还包括击杀特定目标时的特写镜头
				2. 产生攻击硬直
				3. 影响目标吸附(视角控制，人物朝向控制，指向攻击目标)
				4. 如果没有后续攻击，播放收手动作<=完成释放流程
			2. 位移(存在位移类技能)
				1. 向后移动->后坐力, 或基于攻击结果的后退(反震/反弹)
				2. 向前移动->与技能同时移动，如攻击时向前移动，移动过程中触碰目标后产生伤害结算。或位移后进行攻击。
			3. 如果存在后续攻击(技能不一定一次性放出，也可能分几次打完)
				1. 转向，攻击后转到其他攻击方向(如，一般怪物攻击转到其他角度继续攻击, 如果是玩家使用该类技能会通过拉大视角进行处理，防止玩家因为视角切换产生的眩晕感)
				2. 重新进入释放过程
				3. 技能脱离释放者，后续动作由技能本身执行(如, 技能打出后脱离，命中目标位置后，反复产生爆炸；如，技能会放出一个虚影，由虚影进行后续攻击动作）=>如果没后续攻击，结束释放流程
		5. 转入技能释放目标(根据判定与结算，受击表现与应对)
			1. 命中
				1. 击中/暴击->播放受击动作及表现(泛白)，镜头抖动等
				2. 防御->播放防御(格挡、反击、反弹...)动作
			2. 闪避->播放闪避动作
			3. 位移
				1. 命中位移->受击时击退，暴击时击退，技能效果产生击退
					1. 后退
					2. 翻滚
					3. 拖拽->拖拽源
				2. 躲避技能->通过闪避类技能进行位移，主动使用位移类技能，或被动效果产生(如，受击时移动到预设位置)
			4. 产生受击硬直
				1. 满足条件, 如伤害(暴击)超阈值，或由技能效果产生
				2. 僵直
			5. 受控->技能及其效果
				1. 播放状态异常动作->沉默、麻痹、眩晕等
				2. 播放行为异常动作->倒地、击飞、浮空等
		6. 技能中断(如果出现技能中断)->技能失败的判定，对应失败的处理
			1. 技能吟唱阶段被打断
			2. 技能打出阶段被打断
			3. 技能结算阶段被打断
		7. 省略涉及的声音、顿帧、震屏等细节
	5. 完成释放流程(流程结束不代表技能结束，还涉及到技能后续，衍生效果等情况)
		1. 对技能失败的处理
			1. 连击、派生中断
			2. 惩罚机制
				1. 行为上，产生较长时间的硬直
				2. 反噬，技能本身是否失败才是的效果
			3. 激活技能失败的应对技能
		2. 影响战斗状态的解除
		3. 播放结束动作(如收刀动作，可能最后一次与攻击完成动作有所重叠)
			1. 完成技能，进入战斗待机状态
		4. 衔接到其他技能(连击/连招), 可能会省略一些前置动作
3. p.s. 技能简化描述
	1. 使用技能
	2. 条件检查->失败处理
	3. 释放阶段->失败处理
		1. 起手
		2. 吟唱(施法前摇)
		3. 根据攻击次数进行释放循环(不涉及中断)
			1. 攻击开始(攻击前摇)
			2. 放出技能=>判定与结算
			3. 攻击结束(攻击后摇)
		4. 收手(施法后摇)
	4. 释放结束
		1. 失败处理
		2. 衔接其他技能
---
## 补充
1. 连续类技能，存在2种或其他解释(可能在描述时有所侧重)
	1. 如, 同一个技能的**连续使用**(即, 连续使用同一个技能，一般偏向于连击)
	2. 如, 技能会**连续释放**多次攻击(即一个技能分多次打出)
2. 技能派生->视为一个技能，一般通过技能条件进行切换, 如
	* 重复使用同一个技能时，技能的释放情况发生变化(如动作或效果发生变化)
	* 一个技能存在多种条件的释放方式(如目标倒地、浮空等情况)
	* 反复使用技能到一定次数后，才会产生较长时间的技能cd->在某个技能中插入cd
	* p.s. 共享技能信息(甚至包括技能id)，及绝大部分效果等
		* 如, 一个技能在第四次释放时会产生xxx的效果, 只需要配置2个技能, 只在技能条件上做区别(以前一个技能做条件)，第二个技能的效果部分进行一些调整。
3. 装备类技能/效果
	1. 装备时, 自动附加一个无持续时间(永续)的buff类效果
	2. 效果一般由事件机制驱动(触发)，衍生出对应效果
	3. 效果也可能是注册一个新技能
	4. 卸载装备时, 自动回收该buff, 但由该buff所衍生的其他buff可能会保留
4. 额外: 其他